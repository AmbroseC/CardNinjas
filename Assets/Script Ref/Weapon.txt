using UnityEngine;
using System.Collections;

public abstract class Weapon : MonoBehaviour{
	protected enum Gun {Front = 0,Left,Right};
	public GameObject bullet;
	public GameObject chargeBullet;
	protected int upgradeLevel = 0;
	protected bool charging = false;
	protected ChargeShot charginShot;
	protected float chargeCD;
	public static Vector3 normalizerVector = new Vector3(1,0,1);
	
	//public float shootDelay;
	
	public abstract void checkFire(Transform[] guns);
	
	public abstract string getName();
	
	public abstract void update();
	
	protected abstract void fire(Transform[] guns);
	
	public void upgradeWeapon()
	{
		if (upgradeLevel < 2)
		{
			upgradeLevel++;
		}
	}
	
	public void resetWeapon()
	{
		upgradeLevel=0;
	}
	
	public int getUpgradeLevel()
	{
		return upgradeLevel;
	}
	
	public void releaseCharge()
	{
		if(chargeCD<=0)
			chargeCD=.2f;
		charging=false;
		charginShot=null;
	}
	
	
	public void clearCharge()
	{
		if(charginShot!=null && charginShot.charging)
		{
			Destroy(charginShot.gameObject);
		}
	}
	
}
